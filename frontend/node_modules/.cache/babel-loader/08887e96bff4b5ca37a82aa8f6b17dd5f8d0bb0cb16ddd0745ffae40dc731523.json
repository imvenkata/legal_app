{"ast":null,"code":"var _jsxFileName = \"/Users/venkata/startup/legal_app/frontend/src/components/DocumentAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Typography, Paper, Button, Box, Container, CircularProgress, Grid, List, ListItem, ListItemIcon, ListItemText, Divider, Alert, Chip, TextField, IconButton, Card, CardContent, LinearProgress } from '@mui/material';\nimport UploadFileIcon from '@mui/icons-material/UploadFile';\nimport ArticleIcon from '@mui/icons-material/Article';\nimport SummarizeIcon from '@mui/icons-material/Summarize';\nimport FactCheckIcon from '@mui/icons-material/FactCheck';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport GroupIcon from '@mui/icons-material/Group';\nimport BusinessIcon from '@mui/icons-material/Business';\nimport ChatIcon from '@mui/icons-material/Chat';\nimport SendIcon from '@mui/icons-material/Send';\nimport { api } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DocumentAnalysis() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [analysisLoading, setAnalysisLoading] = useState(false);\n  const [chatLoading, setChatLoading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const [document, setDocument] = useState(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [chatInput, setChatInput] = useState('');\n  const fileInputRef = useRef();\n  const handleFileChange = e => {\n    if (e.target.files.length > 0) {\n      const selectedFile = e.target.files[0];\n      setFile(selectedFile);\n      // Auto-fill title with filename (without extension)\n      const fileName = selectedFile.name.split('.').slice(0, -1).join('.');\n      setTitle(fileName || 'Document');\n    }\n  };\n  const handleUpload = async () => {\n    if (!file) {\n      setError('Please select a file to upload');\n      return;\n    }\n    if (!title.trim()) {\n      setError('Please provide a title for the document');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    setUploadProgress(0);\n    try {\n      // Create form data\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('title', title);\n      if (description) {\n        formData.append('description', description);\n      }\n\n      // Simulate upload progress\n      const progressInterval = setInterval(() => {\n        setUploadProgress(prev => {\n          const newProgress = prev + Math.random() * 20;\n          return newProgress >= 90 ? 90 : newProgress;\n        });\n      }, 500);\n\n      // Upload document\n      const response = await api.post('/api/documents/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      clearInterval(progressInterval);\n      setUploadProgress(100);\n\n      // Set the uploaded document\n      setDocument(response.data);\n\n      // Reset form\n      setFile(null);\n      setTitle('');\n      setDescription('');\n      fileInputRef.current.value = '';\n\n      // Automatically start analysis\n      analyzeDocument(response.data.id);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Upload error:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Failed to upload document. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const analyzeDocument = async documentId => {\n    setAnalysisLoading(true);\n    setError(null);\n    try {\n      const response = await api.post(`/api/documents/${documentId}/analyze`, {\n        model: \"document-analyzer\"\n      });\n      setAnalysis(response.data);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error('Analysis error:', err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.detail) || 'Failed to analyze document. Please try again.');\n    } finally {\n      setAnalysisLoading(false);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!chatInput.trim() || !document) return;\n    const userMessage = chatInput.trim();\n    setChatInput('');\n\n    // Add user message to chat\n    setChatMessages(prev => [...prev, {\n      role: 'user',\n      content: userMessage\n    }]);\n    setChatLoading(true);\n    try {\n      const response = await api.post(`/api/documents/${document.id}/chat`, {\n        query: userMessage,\n        model: \"document-analyzer\"\n      });\n\n      // Replace all messages with the complete history from the server\n      setChatMessages(response.data.messages);\n    } catch (err) {\n      console.error('Chat error:', err);\n      setChatMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, I encountered an error processing your request.'\n      }]);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n  const renderUploadForm = () => /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      p: 3,\n      mb: 3\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: \"Upload Document\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        component: \"label\",\n        startIcon: /*#__PURE__*/_jsxDEV(UploadFileIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 22\n        }, this),\n        sx: {\n          mb: 1\n        },\n        children: [\"Select File\", /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          hidden: true,\n          onChange: handleFileChange,\n          accept: \".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), file && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        sx: {\n          ml: 1\n        },\n        children: [file.name, \" (\", (file.size / 1024).toFixed(2), \" KB)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Document Title\",\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      fullWidth: true,\n      margin: \"normal\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Description (Optional)\",\n      value: description,\n      onChange: e => setDescription(e.target.value),\n      fullWidth: true,\n      margin: \"normal\",\n      multiline: true,\n      rows: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mt: 2,\n        mb: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%',\n        mt: 2,\n        mb: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(LinearProgress, {\n        variant: \"determinate\",\n        value: uploadProgress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        align: \"center\",\n        sx: {\n          mt: 1\n        },\n        children: [\"Uploading... \", Math.round(uploadProgress), \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleUpload,\n      disabled: loading,\n      sx: {\n        mt: 2\n      },\n      children: \"Upload & Analyze\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n  const renderAnalysisResult = () => {\n    if (!analysis) return null;\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 3,\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Analysis Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  mb: 1,\n                  children: [/*#__PURE__*/_jsxDEV(SummarizeIcon, {\n                    color: \"primary\",\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    children: \"Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: analysis.summary\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                height: '100%'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  mb: 1,\n                  children: [/*#__PURE__*/_jsxDEV(FactCheckIcon, {\n                    color: \"primary\",\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    children: \"Key Points\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(List, {\n                  dense: true,\n                  children: analysis.key_points.map((point, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                      sx: {\n                        minWidth: '30px'\n                      },\n                      children: \"\\u2022\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: point\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              sx: {\n                height: '100%'\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  mb: 1,\n                  children: [/*#__PURE__*/_jsxDEV(WarningIcon, {\n                    color: \"warning\",\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    children: \"Potential Risks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(List, {\n                  dense: true,\n                  children: analysis.risks.map((risk, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n                    children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                      sx: {\n                        minWidth: '30px'\n                      },\n                      children: \"\\u26A0\\uFE0F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: risk\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              variant: \"outlined\",\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  mb: 1,\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    children: \"Entities\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    gap: 1\n                  },\n                  children: [analysis.entities.map((entity, index) => /*#__PURE__*/_jsxDEV(Chip, {\n                    icon: entity.type === 'person' ? /*#__PURE__*/_jsxDEV(GroupIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 58\n                    }, this) : /*#__PURE__*/_jsxDEV(BusinessIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 74\n                    }, this),\n                    label: `${entity.name} (${entity.type})`,\n                    variant: \"outlined\",\n                    color: entity.type === 'person' ? 'primary' : 'secondary'\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 23\n                  }, this)), analysis.entities.length === 0 && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: \"No entities identified\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this);\n  };\n  const renderChat = () => {\n    if (!document) return null;\n    return /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        display: \"flex\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(ChatIcon, {\n          sx: {\n            mr: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), \"Chat with Document\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          height: '300px',\n          overflowY: 'auto',\n          mb: 2,\n          p: 2,\n          border: '1px solid #eee',\n          borderRadius: 1\n        },\n        children: [chatMessages.length === 0 ? /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          align: \"center\",\n          sx: {\n            mt: 10\n          },\n          children: \"Ask questions about this document to get started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this) : chatMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start',\n            mb: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 1,\n            sx: {\n              p: 2,\n              maxWidth: '80%',\n              bgcolor: msg.role === 'user' ? 'primary.light' : 'grey.100',\n              color: msg.role === 'user' ? 'white' : 'text.primary'\n            },\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              style: {\n                whiteSpace: 'pre-line'\n              },\n              children: msg.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 15\n        }, this)), chatLoading && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'center',\n            mt: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          placeholder: \"Ask a question about this document...\",\n          value: chatInput,\n          onChange: e => setChatInput(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && handleSendMessage(),\n          disabled: chatLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          onClick: handleSendMessage,\n          disabled: chatLoading || !chatInput.trim(),\n          sx: {\n            ml: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        my: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        align: \"center\",\n        children: \"Document Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), !document && renderUploadForm(), document && !analysis && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          my: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            ml: 2\n          },\n          children: \"Analyzing document...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }, this), document && /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 3,\n        sx: {\n          p: 2,\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(ArticleIcon, {\n            sx: {\n              mr: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: document.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), document.description && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mt: 1\n          },\n          children: document.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          display: \"block\",\n          sx: {\n            mt: 1\n          },\n          children: [\"Uploaded on: \", new Date(document.created_at).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this), analysisLoading && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          my: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            ml: 2\n          },\n          children: \"Analyzing document...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 11\n      }, this), analysis && renderAnalysisResult(), document && renderChat()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 406,\n    columnNumber: 5\n  }, this);\n}\n_s(DocumentAnalysis, \"XIAVzg6CDUOEOs/t9fIGW+EZ9Fk=\");\n_c = DocumentAnalysis;\nexport default DocumentAnalysis;\nvar _c;\n$RefreshReg$(_c, \"DocumentAnalysis\");","map":{"version":3,"names":["React","useState","useRef","Typography","Paper","Button","Box","Container","CircularProgress","Grid","List","ListItem","ListItemIcon","ListItemText","Divider","Alert","Chip","TextField","IconButton","Card","CardContent","LinearProgress","UploadFileIcon","ArticleIcon","SummarizeIcon","FactCheckIcon","WarningIcon","GroupIcon","BusinessIcon","ChatIcon","SendIcon","api","jsxDEV","_jsxDEV","DocumentAnalysis","_s","file","setFile","title","setTitle","description","setDescription","loading","setLoading","analysisLoading","setAnalysisLoading","chatLoading","setChatLoading","uploadProgress","setUploadProgress","error","setError","document","setDocument","analysis","setAnalysis","chatMessages","setChatMessages","chatInput","setChatInput","fileInputRef","handleFileChange","e","target","files","length","selectedFile","fileName","name","split","slice","join","handleUpload","trim","formData","FormData","append","progressInterval","setInterval","prev","newProgress","Math","random","response","post","headers","clearInterval","data","current","value","analyzeDocument","id","err","_err$response","_err$response$data","console","detail","documentId","model","_err$response2","_err$response2$data","handleSendMessage","userMessage","role","content","query","messages","renderUploadForm","elevation","sx","p","mb","children","variant","gutterBottom","_jsxFileName","lineNumber","columnNumber","component","startIcon","ref","type","hidden","onChange","accept","ml","size","toFixed","label","fullWidth","margin","required","multiline","rows","severity","mt","width","align","round","onClick","disabled","renderAnalysisResult","container","spacing","item","xs","display","alignItems","color","mr","summary","md","height","dense","key_points","map","point","index","minWidth","primary","risks","risk","flexWrap","gap","entities","entity","icon","renderChat","overflowY","border","borderRadius","msg","justifyContent","maxWidth","bgcolor","style","whiteSpace","placeholder","onKeyPress","key","my","Date","created_at","toLocaleString","_c","$RefreshReg$"],"sources":["/Users/venkata/startup/legal_app/frontend/src/components/DocumentAnalysis.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { \n  Typography, \n  Paper, \n  Button, \n  Box, \n  Container, \n  CircularProgress,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Alert,\n  Chip,\n  TextField,\n  IconButton,\n  Card,\n  CardContent,\n  LinearProgress\n} from '@mui/material';\nimport UploadFileIcon from '@mui/icons-material/UploadFile';\nimport ArticleIcon from '@mui/icons-material/Article';\nimport SummarizeIcon from '@mui/icons-material/Summarize';\nimport FactCheckIcon from '@mui/icons-material/FactCheck';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport GroupIcon from '@mui/icons-material/Group';\nimport BusinessIcon from '@mui/icons-material/Business';\nimport ChatIcon from '@mui/icons-material/Chat';\nimport SendIcon from '@mui/icons-material/Send';\nimport { api } from '../services/api';\n\nfunction DocumentAnalysis() {\n  const [file, setFile] = useState(null);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [analysisLoading, setAnalysisLoading] = useState(false);\n  const [chatLoading, setChatLoading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const [document, setDocument] = useState(null);\n  const [analysis, setAnalysis] = useState(null);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [chatInput, setChatInput] = useState('');\n  const fileInputRef = useRef();\n  \n  const handleFileChange = (e) => {\n    if (e.target.files.length > 0) {\n      const selectedFile = e.target.files[0];\n      setFile(selectedFile);\n      // Auto-fill title with filename (without extension)\n      const fileName = selectedFile.name.split('.').slice(0, -1).join('.');\n      setTitle(fileName || 'Document');\n    }\n  };\n  \n  const handleUpload = async () => {\n    if (!file) {\n      setError('Please select a file to upload');\n      return;\n    }\n    \n    if (!title.trim()) {\n      setError('Please provide a title for the document');\n      return;\n    }\n    \n    setLoading(true);\n    setError(null);\n    setUploadProgress(0);\n    \n    try {\n      // Create form data\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('title', title);\n      if (description) {\n        formData.append('description', description);\n      }\n      \n      // Simulate upload progress\n      const progressInterval = setInterval(() => {\n        setUploadProgress(prev => {\n          const newProgress = prev + Math.random() * 20;\n          return newProgress >= 90 ? 90 : newProgress;\n        });\n      }, 500);\n      \n      // Upload document\n      const response = await api.post('/api/documents/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      \n      clearInterval(progressInterval);\n      setUploadProgress(100);\n      \n      // Set the uploaded document\n      setDocument(response.data);\n      \n      // Reset form\n      setFile(null);\n      setTitle('');\n      setDescription('');\n      fileInputRef.current.value = '';\n      \n      // Automatically start analysis\n      analyzeDocument(response.data.id);\n      \n    } catch (err) {\n      console.error('Upload error:', err);\n      setError(err.response?.data?.detail || 'Failed to upload document. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const analyzeDocument = async (documentId) => {\n    setAnalysisLoading(true);\n    setError(null);\n    \n    try {\n      const response = await api.post(`/api/documents/${documentId}/analyze`, {\n        model: \"document-analyzer\"\n      });\n      \n      setAnalysis(response.data);\n    } catch (err) {\n      console.error('Analysis error:', err);\n      setError(err.response?.data?.detail || 'Failed to analyze document. Please try again.');\n    } finally {\n      setAnalysisLoading(false);\n    }\n  };\n  \n  const handleSendMessage = async () => {\n    if (!chatInput.trim() || !document) return;\n    \n    const userMessage = chatInput.trim();\n    setChatInput('');\n    \n    // Add user message to chat\n    setChatMessages(prev => [...prev, { role: 'user', content: userMessage }]);\n    setChatLoading(true);\n    \n    try {\n      const response = await api.post(`/api/documents/${document.id}/chat`, {\n        query: userMessage,\n        model: \"document-analyzer\"\n      });\n      \n      // Replace all messages with the complete history from the server\n      setChatMessages(response.data.messages);\n    } catch (err) {\n      console.error('Chat error:', err);\n      setChatMessages(prev => [...prev, { \n        role: 'assistant', \n        content: 'Sorry, I encountered an error processing your request.' \n      }]);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n  \n  const renderUploadForm = () => (\n    <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\n      <Typography variant=\"h6\" gutterBottom>\n        Upload Document\n      </Typography>\n      \n      <Box sx={{ mb: 2 }}>\n        <Button\n          variant=\"outlined\"\n          component=\"label\"\n          startIcon={<UploadFileIcon />}\n          sx={{ mb: 1 }}\n        >\n          Select File\n          <input\n            ref={fileInputRef}\n            type=\"file\"\n            hidden\n            onChange={handleFileChange}\n            accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png\"\n          />\n        </Button>\n        {file && (\n          <Typography variant=\"body2\" sx={{ ml: 1 }}>\n            {file.name} ({(file.size / 1024).toFixed(2)} KB)\n          </Typography>\n        )}\n      </Box>\n      \n      <TextField\n        label=\"Document Title\"\n        value={title}\n        onChange={(e) => setTitle(e.target.value)}\n        fullWidth\n        margin=\"normal\"\n        required\n      />\n      \n      <TextField\n        label=\"Description (Optional)\"\n        value={description}\n        onChange={(e) => setDescription(e.target.value)}\n        fullWidth\n        margin=\"normal\"\n        multiline\n        rows={2}\n      />\n      \n      {error && (\n        <Alert severity=\"error\" sx={{ mt: 2, mb: 2 }}>\n          {error}\n        </Alert>\n      )}\n      \n      {loading && (\n        <Box sx={{ width: '100%', mt: 2, mb: 2 }}>\n          <LinearProgress variant=\"determinate\" value={uploadProgress} />\n          <Typography variant=\"body2\" align=\"center\" sx={{ mt: 1 }}>\n            Uploading... {Math.round(uploadProgress)}%\n          </Typography>\n        </Box>\n      )}\n      \n      <Button\n        variant=\"contained\"\n        onClick={handleUpload}\n        disabled={loading}\n        sx={{ mt: 2 }}\n      >\n        Upload & Analyze\n      </Button>\n    </Paper>\n  );\n  \n  const renderAnalysisResult = () => {\n    if (!analysis) return null;\n    \n    return (\n      <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          Analysis Results\n        </Typography>\n        \n        <Box sx={{ mt: 3 }}>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <Card variant=\"outlined\">\n                <CardContent>\n                  <Box display=\"flex\" alignItems=\"center\" mb={1}>\n                    <SummarizeIcon color=\"primary\" sx={{ mr: 1 }} />\n                    <Typography variant=\"h6\">Summary</Typography>\n                  </Box>\n                  <Typography variant=\"body1\">\n                    {analysis.summary}\n                  </Typography>\n                </CardContent>\n              </Card>\n            </Grid>\n            \n            <Grid item xs={12} md={6}>\n              <Card variant=\"outlined\" sx={{ height: '100%' }}>\n                <CardContent>\n                  <Box display=\"flex\" alignItems=\"center\" mb={1}>\n                    <FactCheckIcon color=\"primary\" sx={{ mr: 1 }} />\n                    <Typography variant=\"h6\">Key Points</Typography>\n                  </Box>\n                  <List dense>\n                    {analysis.key_points.map((point, index) => (\n                      <ListItem key={index}>\n                        <ListItemIcon sx={{ minWidth: '30px' }}>•</ListItemIcon>\n                        <ListItemText primary={point} />\n                      </ListItem>\n                    ))}\n                  </List>\n                </CardContent>\n              </Card>\n            </Grid>\n            \n            <Grid item xs={12} md={6}>\n              <Card variant=\"outlined\" sx={{ height: '100%' }}>\n                <CardContent>\n                  <Box display=\"flex\" alignItems=\"center\" mb={1}>\n                    <WarningIcon color=\"warning\" sx={{ mr: 1 }} />\n                    <Typography variant=\"h6\">Potential Risks</Typography>\n                  </Box>\n                  <List dense>\n                    {analysis.risks.map((risk, index) => (\n                      <ListItem key={index}>\n                        <ListItemIcon sx={{ minWidth: '30px' }}>⚠️</ListItemIcon>\n                        <ListItemText primary={risk} />\n                      </ListItem>\n                    ))}\n                  </List>\n                </CardContent>\n              </Card>\n            </Grid>\n            \n            <Grid item xs={12}>\n              <Card variant=\"outlined\">\n                <CardContent>\n                  <Box display=\"flex\" alignItems=\"center\" mb={1}>\n                    <Typography variant=\"h6\">Entities</Typography>\n                  </Box>\n                  <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n                    {analysis.entities.map((entity, index) => (\n                      <Chip \n                        key={index}\n                        icon={entity.type === 'person' ? <GroupIcon /> : <BusinessIcon />}\n                        label={`${entity.name} (${entity.type})`}\n                        variant=\"outlined\"\n                        color={entity.type === 'person' ? 'primary' : 'secondary'}\n                      />\n                    ))}\n                    {analysis.entities.length === 0 && (\n                      <Typography variant=\"body2\">No entities identified</Typography>\n                    )}\n                  </Box>\n                </CardContent>\n              </Card>\n            </Grid>\n          </Grid>\n        </Box>\n      </Paper>\n    );\n  };\n  \n  const renderChat = () => {\n    if (!document) return null;\n    \n    return (\n      <Paper elevation={3} sx={{ p: 3 }}>\n        <Typography variant=\"h6\" gutterBottom display=\"flex\" alignItems=\"center\">\n          <ChatIcon sx={{ mr: 1 }} />\n          Chat with Document\n        </Typography>\n        \n        <Box sx={{ height: '300px', overflowY: 'auto', mb: 2, p: 2, border: '1px solid #eee', borderRadius: 1 }}>\n          {chatMessages.length === 0 ? (\n            <Typography variant=\"body2\" color=\"text.secondary\" align=\"center\" sx={{ mt: 10 }}>\n              Ask questions about this document to get started\n            </Typography>\n          ) : (\n            chatMessages.map((msg, index) => (\n              <Box \n                key={index}\n                sx={{\n                  display: 'flex',\n                  justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start',\n                  mb: 2\n                }}\n              >\n                <Paper\n                  elevation={1}\n                  sx={{\n                    p: 2,\n                    maxWidth: '80%',\n                    bgcolor: msg.role === 'user' ? 'primary.light' : 'grey.100',\n                    color: msg.role === 'user' ? 'white' : 'text.primary'\n                  }}\n                >\n                  <Typography variant=\"body1\" style={{ whiteSpace: 'pre-line' }}>\n                    {msg.content}\n                  </Typography>\n                </Paper>\n              </Box>\n            ))\n          )}\n          {chatLoading && (\n            <Box sx={{ display: 'flex', justifyContent: 'center', mt: 2 }}>\n              <CircularProgress size={24} />\n            </Box>\n          )}\n        </Box>\n        \n        <Box sx={{ display: 'flex' }}>\n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            placeholder=\"Ask a question about this document...\"\n            value={chatInput}\n            onChange={(e) => setChatInput(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n            disabled={chatLoading}\n          />\n          <IconButton \n            color=\"primary\" \n            onClick={handleSendMessage} \n            disabled={chatLoading || !chatInput.trim()}\n            sx={{ ml: 1 }}\n          >\n            <SendIcon />\n          </IconButton>\n        </Box>\n      </Paper>\n    );\n  };\n  \n  return (\n    <Container maxWidth=\"lg\">\n      <Box sx={{ my: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\n          Document Analysis\n        </Typography>\n        \n        {!document && renderUploadForm()}\n        \n        {document && !analysis && (\n          <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\n            <CircularProgress />\n            <Typography variant=\"body1\" sx={{ ml: 2 }}>\n              Analyzing document...\n            </Typography>\n          </Box>\n        )}\n        \n        {document && (\n          <Paper elevation={3} sx={{ p: 2, mb: 3 }}>\n            <Box display=\"flex\" alignItems=\"center\">\n              <ArticleIcon sx={{ mr: 1 }} />\n              <Typography variant=\"h6\">\n                {document.title}\n              </Typography>\n            </Box>\n            {document.description && (\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 1 }}>\n                {document.description}\n              </Typography>\n            )}\n            <Typography variant=\"caption\" display=\"block\" sx={{ mt: 1 }}>\n              Uploaded on: {new Date(document.created_at).toLocaleString()}\n            </Typography>\n          </Paper>\n        )}\n        \n        {analysisLoading && (\n          <Box sx={{ display: 'flex', justifyContent: 'center', my: 4 }}>\n            <CircularProgress />\n            <Typography variant=\"body1\" sx={{ ml: 2 }}>\n              Analyzing document...\n            </Typography>\n          </Box>\n        )}\n        \n        {analysis && renderAnalysisResult()}\n        \n        {document && renderChat()}\n      </Box>\n    </Container>\n  );\n}\n\nexport default DocumentAnalysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}